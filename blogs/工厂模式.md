---
title: å·¥å‚æ¨¡å¼
date: 2020-10-15
categories:
  - ğŸ‘¨â€ğŸ’» ç¼–ç¨‹
tags:
  - è®¾è®¡æ¨¡å¼
---

## å·¥å‚æ¨¡å¼

- å°† new æ“ä½œå•ç‹¬å°è£…
- é‡åˆ° new æ—¶,å°±è¦è€ƒè™‘æ˜¯å¦è¯¥ä½¿ç”¨å·¥å‚æ¨¡å¼

## ç±»å›¾

```plantuml
@startuml
class Factory{
    +count:Number
    +init():Production
}
class Production{
    + id:Number
    + doSomething():void
}

Factory --> Production
@enduml
```

## ä»£ç ç¤ºä¾‹

```js
class Production {
  constructor(id) {
    this.id = id;
  }
  doSomething() {
    console.log(`Production ${this.id} do somethingâ€¦â€¦`);
  }
}

class Factory {
  constructor() {
    this.count = 0;
  }
  product() {
    this.count++;
    return new Production(this.count);
  }
}

let f = new Factory();
let p1 = f.product();
console.log(p1.doSomething());
let p2 = f.product();
console.log(p2.doSomething());
```

![å·¥å‚æ¨¡å¼-2020-10-15-06-17-45](https://images.xifan.fun/å·¥å‚æ¨¡å¼-2020-10-15-06-17-45.png)

## åœºæ™¯ç¤ºä¾‹

### jQuery é€‰æ‹©å™¨å®ç°

```html
<p>1</p>
<p>2</p>
<p>3</p>
<p>4</p>
<p>5</p>
```

```js
class jQuery{
    constructor(selector){
        this.selector = selector || ''
        let doms = [...(document.querySelectorAll(selector))] || []
        for(let i=0;i<doms.length;i++){
            this[i] = doms[i]
        }
        this.length = doms.length  
    }
}

window.$ = function(selector){
    return new jQuery(selector)
}

console.log($('p'));
```

![å·¥å‚æ¨¡å¼-2020-10-15-06-41-27](https://images.xifan.fun/å·¥å‚æ¨¡å¼-2020-10-15-06-41-27.png)
